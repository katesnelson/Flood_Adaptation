"finalnewparcels2012ob.RDS", "finalnewparcels2013ob.RDS","finalnewparcels2014ob.RDS")
pnames<-c("pred_depth_2007ob.RDS",
"pred_depth_2010ob.RDS",
"pred_depth_2013ob.RDS")
for (i in 1:length(year)){ #records of interest for no-buyout scenario
d<-readRDS(paste0(wd, "dasym3",names[i]))
dmg_1<-round(sum(d$pDMGWDFIA, na.rm=T )/1000000,2) #structural damages
cont_cnty<-round(sum(d$pDMGCONTWDFIA , na.rm=T )/1000000,2) #content damages
df_ob$StrucCont[i]<-sum(dmg_1,cont_cnty)
dmg_3<-round(sum(d$prelocWDHZ, na.rm=T )/1000000,2) #relocation costs
labor_cnty<-round(sum(d$plaborWDSV, na.rm=T)/1000000,2)#labor costs
df_ob$RelocLab[i]<-sum(dmg_3,labor_cnty)
if (year[i]==2007){
d2<- readRDS(paste0(wd, "highdamages", pnames[1]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[1]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2010){
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2013){
d2<- readRDS(paste0(wd, "highdamages", pnames[3]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[3]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[i]<-sum(Ld3,Llabor)
}
}
#All Buyouts 2005-2015
year<-seq(2007,2014)
scenario<-rep("All buyouts",length(year))
df_ab<-data.frame(year,scenario)
df_ab$StrucCont<-NA
df_ab$RelocLab-NA
df_ab$HpredSC<-NA
df_ab$HpredRL<-NA
df_ab$LpredSC<-NA
df_ab$LpredRL<-NA
names<-c("finalnewparcels2007ob.RDS", "finalnewparcels2008ob.RDS", "finalnewparcels2009ob.RDS",
"finalnewparcels2010ab.RDS", "finalnewparcels2011ab.RDS","finalnewparcels2012ab.RDS", "finalnewparcels2013ab.RDS","finalnewparcels2014ab.RDS")
pnames<-c("pred_depth_2007ab.RDS",
"pred_depth_2010ab.RDS",
"pred_depth_2013ab.RDS")
for (i in 1:length(year)){ #records of interest for no-buyout scenario
d<-readRDS(paste0(wd, "dasym3",names[i]))
dmg_1<-round(sum(d$pDMGWDFIA, na.rm=T )/1000000,2) #structural damages
cont_cnty<-round(sum(d$pDMGCONTWDFIA , na.rm=T )/1000000,2) #content damages
df_ab$StrucCont[i]<-sum(dmg_1,cont_cnty)
dmg_3<-round(sum(d$prelocWDHZ, na.rm=T )/1000000,2) #relocation costs
labor_cnty<-round(sum(d$plaborWDSV, na.rm=T)/1000000,2)#labor costs
df_ab$RelocLab[i]<-sum(dmg_3,labor_cnty)
if (year[i]==2007){
d2<- readRDS(paste0(wd, "highdamages", pnames[1]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[1]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2010){
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2013){
d2<- readRDS(paste0(wd, "highdamages", pnames[3]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[3]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ab$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ab$LpredRL[i]<-sum(Ld3,Llabor)
}
}
#Wishlist Buyouts 2005-2015
year<-seq(2007,2014)
scenario<-rep("Wishlist buyouts",length(year))
df_w<-data.frame(year,scenario)
df_w$StrucCont<-NA
df_w$RelocLab-NA
df_w$HpredSC<-NA
df_w$HpredRL<-NA
df_w$LpredSC<-NA
df_w$LpredRL<-NA
names<-c("finalnewparcels2007ob.RDS", "finalnewparcels2008ob.RDS", "finalnewparcels2009ob.RDS",
"finalnewparcels2010w.RDS", "finalnewparcels2011w.RDS","finalnewparcels2012w.RDS", "finalnewparcels2013w.RDS","finalnewparcels2014w.RDS")
pnames<-c("pred_depth_2007w.RDS",
"pred_depth_2010w.RDS",
"pred_depth_2013w.RDS")
for (i in 1:length(year)){ #records of interest for no-buyout scenario
d<-readRDS(paste0(wd, "dasym3", names[i]))
dmg_1<-round(sum(d$pDMGWDFIA, na.rm=T )/1000000,2) #structural damages
cont_cnty<-round(sum(d$pDMGCONTWDFIA , na.rm=T )/1000000,2) #content damages
df_w$StrucCont[i]<-sum(dmg_1,cont_cnty)
dmg_3<-round(sum(d$prelocWDHZ, na.rm=T )/1000000,2) #relocation costs
labor_cnty<-round(sum(d$plaborWDSV, na.rm=T)/1000000,2)#labor costs
df_w$RelocLab[i]<-sum(dmg_3,labor_cnty)
if (year[i]==2007){
d2<- readRDS(paste0(wd, "highdamages", pnames[1]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[1]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2010){
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$LpredRL[i]<-sum(Ld3,Llabor)
}
if (year[i]==2013){
d2<- readRDS(paste0(wd, "highdamages", pnames[3]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[3]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$HpredSC[i]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$HpredRL[i]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_w$LpredSC[i]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_w$LpredRL[i]<-sum(Ld3,Llabor)
}
}
#Full time-series table
df_ts<-rbind(df_nb[1:7,],df_ob[1:7,],df_ab[1:7,],df_w[1:7,])#for yea
View(df_ts)
year<-seq(2007,2014)
scenario<-rep("No buyouts",length(year))
df_nb<-data.frame(year,scenario)
df_nb$StrucCont<-NA
df_nb$RelocLab-NA
df_nb$HpredSC<-NA
df_nb$HpredRL<-NA
df_nb$LpredSC<-NA
df_nb$LpredRL<-NA
names<-c("finalnewparcels2007nb.RDS", "finalnewparcels2008nb.RDS", "finalnewparcels2009nb.RDS", "finalnewparcels2010nb.RDS", "finalnewparcels2011nb.RDS",
"finalnewparcels2012nb.RDS", "finalnewparcels2013nb.RDS","finalnewparcels2014nb.RDS")
pnames<-c("pred_depth_2007nb.RDS", "pred_depth_2010nb.RDS","pred_depth_2013nb.RDS")
for (i in 1:length(year)){ #records of interest for no-buyout scenario
d<-readRDS(paste0(wd, "dasym3",names[i]))
dmg_1<-round(sum(d$pDMGWDFIA, na.rm=T )/1000000,2) #structural damages
cont_cnty<-round(sum(d$pDMGCONTWDFIA , na.rm=T )/1000000,2) #content damages
df_nb$StrucCont[i]<-sum(dmg_1,cont_cnty)
dmg_3<-round(sum(d$prelocWDHZ, na.rm=T )/1000000,2) #relocation costs
labor_cnty<-round(sum(d$plaborWDSV, na.rm=T)/1000000,2)#labor costs
df_nb$RelocLab[i]<-sum(dmg_3,labor_cnty)
if (year[i]==2007){
d2<- readRDS(paste0(wd, "highdamages", pnames[1]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[1]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$HpredSC[1]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$HpredRL[1]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$LpredSC[1]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$LpredRL[1]<-sum(Ld3,Llabor)
}
if (year[i]==2010){
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$HpredSC[4]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$HpredRL[4]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$LpredSC[4]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$LpredRL[4]<-sum(Ld3,Llabor)
}
if (year[i]==2013){
d2<- readRDS(paste0(wd, "highdamages", pnames[3]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[3]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$HpredSC[7]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$HpredRL[7]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_nb$LpredSC[7]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_nb$LpredRL[7]<-sum(Ld3,Llabor)
}
}
View(df_nb)
year<-seq(2007,2014)
scenario<-rep("With buyouts",length(year))
df_ob<-data.frame(year,scenario)
df_ob$HpredSC<-NA
df_ob$HpredRL<-NA
df_ob$LpredSC<-NA
df_ob$LpredRL<-NA
names<-c("finalnewparcels2007ob.RDS", "finalnewparcels2008ob.RDS", "finalnewparcels2009ob.RDS", "finalnewparcels2010ob.RDS", "finalnewparcels2011ob.RDS",
"finalnewparcels2012ob.RDS", "finalnewparcels2013ob.RDS","finalnewparcels2014ob.RDS")
pnames<-c("pred_depth_2007ob.RDS",
"pred_depth_2010ob.RDS",
"pred_depth_2013ob.RDS")
for (i in 1:length(year)){ #records of interest for no-buyout scenario
d<-readRDS(paste0(wd, "dasym3",names[i]))
dmg_1<-round(sum(d$pDMGWDFIA, na.rm=T )/1000000,2) #structural damages
cont_cnty<-round(sum(d$pDMGCONTWDFIA , na.rm=T )/1000000,2) #content damages
df_ob$StrucCont[i]<-sum(dmg_1,cont_cnty)
dmg_3<-round(sum(d$prelocWDHZ, na.rm=T )/1000000,2) #relocation costs
labor_cnty<-round(sum(d$plaborWDSV, na.rm=T)/1000000,2)#labor costs
df_ob$RelocLab[i]<-sum(dmg_3,labor_cnty)
if (year[i]==2007){
d2<- readRDS(paste0(wd, "highdamages", pnames[1]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[1]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[1]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[1]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[1]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[1]<-sum(Ld3,Llabor)
}
if (year[i]==2010){
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[4]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[4]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[4]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[4]<-sum(Ld3,Llabor)
}
if (year[i]==2013){
d2<- readRDS(paste0(wd, "highdamages", pnames[3]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[3]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$HpredSC[7]<-sum(Hd1,Hcont)
Hd3<-round(sum(d2$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Hlabor<-round(sum(d2$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$HpredRL[7]<-sum(Hd3,Hlabor)
Ld1<-round(sum(d3$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Lcont<-round(sum(d3$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
df_ob$LpredSC[7]<-sum(Ld1,Lcont)
Ld3<-round(sum(d3$Reloc_WD_HZ, na.rm=T )/1000000,2) #relocation costs
Llabor<-round(sum(d3$Labor_WD_SV, na.rm=T)/1000000,2)#labor costs
df_ob$LpredRL[7]<-sum(Ld3,Llabor)
}
}
View(df_ob)
pnames<-c("pred_depth_2007ob.RDS",
"pred_depth_2010ob.RDS",
"pred_depth_2013ob.RDS")
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
d3<- readRDS(paste0(wd, "lowdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
Hcont<-round(sum(d2$DMGCONT_WD_FIA , na.rm=T )/1000000,2) #content damages
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
hist(d2$Low_response)
pnames<-c("pred_depth_2007ob.RDS",
"pred_depth_2010ob.RDS",
"pred_depth_2013ob.RDS")
paste0(wd, "highdamages", pnames[2])
d2<- readRDS(paste0(wd, "highdamages", pnames[2]))
Hd1<-round(sum(d2$DMG_WD_FIA, na.rm=T )/1000000,2) #structural damages
1900.99-1691.46
2055.65-2034.48
df_ts2<-df_ts[-c(2:3,5:6,9:10,12:13,16:17,19:20,23:24,26:27),]
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario,alpha=.2))
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")
p
df_ts2<-df_ts[-c(2:3,5:6,9:10,12:13,16:17,19:20,23:24,26:27),]
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario,alpha=5))
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")
p
df_ts2<-df_ts[-c(2:3,5:6,9:10,12:13,16:17,19:20,23:24,26:27),]
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario,alpha=.1))
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")
p
####################
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario,alpha=0.1))
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")
p
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.1)
p
p <- ggplot(df_ts2, aes(x = year))+ ylim(1400,2250)
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")+ ylim(1400,2250)
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")+ ylim(1400,2000)
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]-50
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")+ ylim(1400,2000)
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]-80
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")+ ylim(1400,2000)
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]-80
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")+ ylim(1400,2000)
p
p <- ggplot(df_ts2, aes(x = year))
p <- p + geom_ribbon(aes(ymin=LpredSC,ymax=HpredSC, fill=scenario),alpha=0.2)
# adding the relative humidity data, transformed to match roughly the range of the temperature
scale.factor<-df_ts2$StrucCont[1]- df_ts2$LpredSC[1]-80
p <- p + geom_line(aes(y = StrucCont-scale.factor,  group=scenario,linetype=scenario, size=scenario))
# now adding the secondary axis, following the example in the help file ?scale_y_continuous
# and, very important, reverting the above transformation
p <- p + scale_y_continuous(sec.axis = sec_axis(~.+scale.factor, name = "Original Estimated Structural and Contents Damages ($M)"))
# modifying colours and theme options
p <- p + labs(y = "Predicted Structural and Contents Damages ($M)", x = "Year") + scale_linetype_manual(values=c("solid", "longdash", "dotted","dotdash")) +
scale_size_manual(values=c(1,1,1,1)) + scale_x_discrete(limits=c(2007,2010,2013))
p <- p + theme(legend.position = "right")#+ ylim(1400,2000)
p
